# {DRAFT} Decred Journal â€“ June 2021

![{alt text}](../img/{file.ext} "{hover tooltip text}")

_Image: {"$title by $author. $optional-description" for artwork, "$description" for photos}_

{ intro, major news of the month, don't put any links here

- new consensus upgrade on the horizon
- approved proposals
- treasury consensus bug discovered
- hashrate drop

}

Contents: { sync }

- [Development](#development)
- [People](#people)
- [Governance](#governance)
- [Network](#network)
- [Ecosystem](#ecosystem)
- [Outreach](#outreach)
- [Events](#events)
- [Media](#media)
- [Discussions](#discussions)
- [Markets](#markets)
- [Relevant External](#relevant-external)


## Treasury bug recap

{ what is not affected, what is affected, what to expect }

- https://blog.decred.org/2021/06/25/Treasury-Expenditure-Policy-Bug/
- https://twitter.com/matheusd_tech/status/1409928455974699013
- https://twitter.com/lukebp_/status/1409929016400822279

## Development

The work reported below has the "merged to master" status unless noted otherwise. It means that the work is completed, reviewed, and integrated into the source code that advanced users can [build and run](https://medium.com/@artikozel/the-decred-node-back-to-the-source-part-one-27d4576e7e1c), but is not yet available in release binaries for regular users.

{ hint: below add an overview of activity for each project. add any other project that warrants a paragraph. drop projects without notable updates. for each project the order of reporting is: changes released > merged to master > started work > discussions and future plans }

{ check if anything was merged on Jun 30 }

<a id="dcrd" />

**[dcrd](https://github.com/decred/dcrd)**

The way standard scripts are handled has been reworked to address a number of long-standing issues.

For a quick background, "[scripts](https://devdocs.decred.org/developer-guides/transactions/txscript/overview/)" are small commands stored inside [transactions](https://devdocs.decred.org/developer-guides/transactions/transaction-format/) that consume "input" coins from past transactions and create new "output" coins with new conditions how they can be spent, which to us humans looks like "sending funds". "Standard scripts" is a subset of all scripts allowed by the consensus that covers most useful operations (sending, staking, multisig, etc) optimized for efficiency and network security. Mainnet nodes will normally [refuse](https://github.com/decred/dcrd/pull/2656#issuecomment-851105968) to accept and relay transactions containing non-standard scripts.

The [reworked code](https://github.com/decred/dcrd/pull/2656) adds a new package called `stdscript` that supports different script versions (this was hard to support previously and is required for the next consensus upgrade), provides a more ergonomic API for developers (including multisig and atomic swap helpers) and improves separation between "standard" and "consensus" (a common point of confusion for new developers). Additionally, the policy of what scripts are considered "standard" has been further tightened to help ensure the typical scripts occupy less space on chain and further restrict cases that don't make sense.

As usual, this large change comes in a series of easy-to-digest commits with informative descriptions, tests, benchmarks, examples, all finished with a thorough new [README](https://github.com/decred/dcrd/blob/master/internal/staging/stdscript/README.md).

{ I couldn't resist writing it up, but have a second look if it's too much for stdscript }

A number of other [changes](https://github.com/decred/dcrd/pulls?q=standardness+is%3Apr+merged%3A2021-06-01..2021-06-30+sort%3Aupdated-asc) have been focused on removing the usages of standardness code from consensus code since the latter must not change in case the policy of what is considered "standard" changes.

A [proposal](https://proposals.decred.org/record/3a98861) for developing the next consensus change has been submitted and approved. This upgrade will practically forbid soft forks to simplify future consensus changes and [improve security](https://proposals.decred.org/record/3a98861/comments/8). Once it activates, full nodes will start rejecting transactions and scripts of newer versions they do not understand, instead of ignoring them and believing they still fully validate the chain.

> Soft forks are primarily the outgrowth of less capable systems with technical shortcomings and the lack of formal governance processes necessary to uncontroversially deploy them ([@davecgh](https://proposals.decred.org/record/3a98861))

Further departure from soft forks is possible thanks to Decred's drama-free process of coordinating hard forks and its highly engaged community.

<a id="dcrwallet" />

**[dcrwallet](https://github.com/decred/dcrwallet)**

- an option to randomly [disapprove](https://github.com/decred/dcrwallet/pull/2054) blocks, intended for testing and cannot be used on mainnet
- updated to latest [dcrd modules](https://github.com/decred/dcrwallet/pull/2056), including the new `stdaddr`
- removed attempts to vote or revoke when private key is [not available](https://github.com/decred/dcrwallet/pull/2062) (should prevent some ticketbuyer errors)
- use multiple [connections](https://github.com/decred/dcrwallet/pull/1983) when auto-buying tickets (may result in slower mixing if the funding account has limited UTXOs)

<a id="decrediton" />

**[Decrediton](https://github.com/decred/decrediton)**

- gray out the [DEX tab](https://github.com/decred/decrediton/pull/3505) instead of hiding it in SPV mode and show a tooltip (a lot of people have been confused by this)
- added [advanced](https://github.com/decred/decrediton/pull/3487) options for restoring wallet (disable coin type upgrades and setting the gap limit)
- allow [empty passphrases](https://github.com/decred/decrediton/pull/3470) with Trezor [passphrase](https://wiki.trezor.io/Passphrase) feature
- support for entering passphrase on the [Trezor](https://github.com/decred/decrediton/pull/3496) itself instead of asking it in Decrediton (works for Model T)
- implemented new UI design for [Governance](https://github.com/decred/decrediton/pull/3467) views (both Proposals and Consensus Changes)
- [integrated](https://github.com/decred/decrediton/pull/3398) input component from the pi-ui library. To support Decrediton's design it was [updated](https://github.com/decred/pi-ui/pull/326) with new features that Decred's other React-based projects can now also use.
- automated tests for [Send](https://github.com/decred/decrediton/pull/3489), [Receive](https://github.com/decred/decrediton/pull/3490), and [Export](https://github.com/decred/decrediton/pull/3493) views
- reorganized, cleaned up and optimized [Webpack config](https://github.com/decred/decrediton/pull/3503)
- disabled [Node integration](https://github.com/decred/decrediton/pull/3486) in the UI code so that UI code can no longer access the low level Node and Electron APIs directly. This is an important security feature and a recommended practice in modern Electron app development.
- [context isolation](https://github.com/decred/decrediton/pull/3492) enabled in main window - another important security feature further restricting the UI code { maybe note that it was a long road }
- enabled the [webSecurity](https://github.com/decred/decrediton/pull/3500) feature to tighten up external requests (this has also fixed the development mode on Windows)
- reduced [dependencies](https://github.com/decred/decrediton/pull/3509) to rely less on third party code and improve security by reducing the attack surface of a possibly supply chain attack
- introduced a more secure confirmation dialog and used it for confirming [VSP access](https://github.com/decred/decrediton/pull/3515) and [transaction signing](https://github.com/decred/decrediton/pull/3519)
- ~10 bug fixes

{ maybe group security changes separately }

{ code stats }

{ UI shot of some new design }

<a id="politeia" />

**[Politeia](https://github.com/decred/politeia)**

- {}

<a id="vspd" />

**[vspd](https://github.com/decred/vspd)**

- {}

<a id="dcrstakepool" />

**[dcrstakepool](https://github.com/decred/dcrstakepool)**

- {}

<a id="dcrpool" />

**[dcrpool](https://github.com/decred/dcrpool)**

- {}

<a id="dcrlnd" />

**[dcrlnd](https://github.com/decred/dcrlnd)**

- {}

<a id="cspp" />

**[cspp](https://github.com/decred/cspp)**

- {}

<a id="dcrdex" />

**[DCRDEX](https://github.com/decred/dcrdex)**

- {}

<a id="dcrandroid" />

**[dcrandroid](https://github.com/planetdecred/dcrandroid)**

- {}

{ also check the base library https://github.com/planetdecred/dcrlibwallet }

<a id="dcrios" />

**[dcrios](https://github.com/planetdecred/dcrios)**

- {}

<a id="godcr" />

**[godcr](https://github.com/planetdecred/godcr)**

- {}

<a id="dcrdata" />

**[dcrdata](https://github.com/decred/dcrdata)**

- swapscan tool https://github.com/decred/dcrdata/pull/1828 https://github.com/decred/dcrdata/tree/master/cmd

<a id="tinydecred" />

**[tinydecred](https://github.com/decred/tinydecred)**

- {}

<a id="dcrros" />

**[dcrros](https://github.com/decred/dcrros)**

- {}

<a id="dcrdocs" />

**[docs](https://github.com/decred/dcrdocs)**

- {}

<a id="dcrdevdocs" />

**[dcrdevdocs](https://github.com/decred/dcrdevdocs)**

- {}

<a id="dcrweb" />

**[decred.org](https://github.com/decred/dcrweb)**

- {}

{ check other repos in:

- https://github.com/decred
- https://github.com/planetdecred
- https://github.com/raedahgroup

}

Other:

- Trezor https://matrix.to/#/!aNnAOHkWUdNcEXRGjJ:decred.org/$Mo6avtuFcQBJ32WeGkR1BO0dQ8-ZnRoIcxpAPWoMdwA
  - https://github.com/trezor/trezor-firmware/blob/master/core/CHANGELOG.md
- $100K bounty https://twitter.com/fst_nml/status/1404114567525978121
  - https://matrix.to/#/!aNnAOHkWUdNcEXRGjJ:decred.org/$maP9GmmAQiV8Ylh65llvHgLqbgJCThcXJYU6Bcqzxwg
- TradeAgent https://matrix.to/#/!gruHpujXftcsHcghjx:planetdecred.org/$Z2pfRvKOqiSOhB0RgbxokZix7xHXgibnmGuHphtkyOw

## People

{ hint: list people who made their first non-trivial commits merged in master branches, in alphabetical order }

Welcome to new first time contributors with code merged to master: {@handle} ([{repo}]({link to user's commits})), ...

Congratulations to new contractors granted the Decred Contractor Clearance (DCC): [{@handle}]({link to most relevant account}). { hint: check the CMS }

{ welcome new corporate contractors with short intros, if any }

{ updates from existing contractors }

{ interviews about people }

Community stats as of {date}:

- Politeia users: {} (+{})
- [Twitter](https://twitter.com/decredproject) followers: {} (+{})
- [Reddit](https://www.reddit.com/r/decred/) subscribers: {} (+{})
- [Matrix](https://chat.decred.org/) #general users: {} (+{})
- [Discord](https://discord.gg/GJ2GXfz) users: {} (+{})
- [Telegram](https://t.me/Decred) users: {} (+{})
- [YouTube](https://www.youtube.com/decredchannel) subscribers: {} (+{}), views: {} (+{})
- GitHub [dcrd](https://github.com/decred/dcrd) stars: {} (+{}), forks: {} (+{})

{ notable SM activity }


## Governance

In June the new [Treasury](https://dcrdata.decred.org/treasury) received {n} DCR worth ${} at June's average rate of ${}. {} DCR was spent to pay contractors, worth ${} at June's rate, or ${} at May's billing rate of ${}. As of {date}, combined balance of [legacy](https://dcrdata.decred.org/address/Dcur2mcGjmENx4DhNqDctW5wJCVyT3Qeqkx) and new Treasury is {n} DCR ({n} million USD at ${n.nn}).

{ check the legacy treasury for any activity }

{ high level recap of decision-making activity and most important events }

- {}

{ check https://github.com/decredcommunity/proposals/commits/master for updates }

See Politeia Digest [issue {}]({}) and [issue {}]({}) for more details on the month's proposals.


## Network

{ section hint: use the same `zoom` parameter for all dcrdata links }

**Hashrate**: June's [hashrate](https://dcrdata.decred.org/charts?chart=hashrate&zoom={t1}-{t2}&scale=linear&bin=block&axis=time) {set zoom to show the month} opened at ~{n} Ph/s and closed ~{n} Ph/s, bottoming at {n} Ph/s and peaking at {n} Ph/s throughout the month.

Distribution of hashrate [reported](https://miningpoolstats.stream/decred) by the pools on {date}: {PoolName n%, ...}.

{ hint: fallback link for pool distribution: https://dcrstats.com/pow }

Distribution of 1,000 blocks actually [mined](https://miningpoolstats.stream/decred) before {date}: {PoolName n%, ...}.

**Staking**: [Ticket price](https://dcrdata.decred.org/charts?chart=ticket-price&zoom={t1}-{t2}&axis=time&visibility=true-true&mode=stepped) varied between {n.n}-{n.n} DCR, with 30-day [average](https://dcrstats.com/) at {n.n} DCR (+{n.n}). { use same t1-t2 for zoom }

The [locked amount](https://dcrdata.decred.org/charts?chart=ticket-pool-value&zoom={t1}-{t2}&scale=linear&bin=block&axis=time) was {n.nn}-{n.nn} million DCR, meaning that {n.n}-{n.n}% of the circulating supply [participated](https://dcrdata.decred.org/charts?chart=stake-participation&zoom={t1}-{t2}&scale=linear&bin=block&axis=time) in proof-of-stake.

{ recap of ticket price action if it was interesting }

**VSP**: On {}, {} (+{}) live tickets were managed by vspd servers and {} (-{}) by the [listed](https://decred.org/vsp/) legacy dcrstakepool servers. Collectively the {} legacy and {} new VSPs managed {}% of the ticket pool.

**Nodes**: Throughout June there were around {n} reachable nodes according to [dcrextdata](https://dcrextdata.planetdecred.org/nodes).

Node versions as of {date} [snapshot](https://nodes.jholdstock.uk/user_agents) ({} total, dcrd only): { vX.Y.Z - n%, ... }

{ maybe } The share of [mixed coins](https://dcrdata.decred.org/charts?chart=coin-supply&zoom={t1}-{t2}&bin=day&axis=time&visibility=true-true-true) varied between {n.n}-{n.n}%. Daily [mixed amount](https://dcrdata.decred.org/charts?chart=privacy-participation&zoom={t1}-{t2}&bin=day&axis=time) varied between {n}-{n}K DCR.

{ maybe } Decred's [Lightning Network](https://ln-map.jholdstock.uk/) has seen {} nodes (+{}), {} channels (+{}) with a total capacity of {n.n} DCR (+{n.n}), as of {date}.

{ any interesting analysis or events in the network }


## Ecosystem

{ hint: new pieces of infrastructure or updates from existing: VSPs, exchanges, wallets, OTC desks, payment processors. use bullets or paragraphs, whatever looks best }

stakey.net has onions! https://stakey.net/ , legacy UI removed but wallets still up https://citadel.stakey.net/@support/106416385081730641

{ check https://github.com/decred/dcrwebapi/commits/master for changes to the VSP list }

{ check https://github.com/decred/dcrweb/commits/master to detect added/removed services }

- Ledger Live fixed in v2.29.0 https://status.ledger.com/incidents/j1sypv88pgs6

Warning: the authors of the Decred Journal have no idea about the trustworthiness of any of the services above. Please do your own research before trusting your personal information or assets to any entity.


## Outreach

{ overview of outreach/communications/marketing/PR activity for past month and any short-term plans }


## Events

Attended:

- {dates} - [{title}]({event link}) - {city}, {country}. {recap}

Upcoming:

- {dates} - [{title}]({event link}) - {city}, {country}. {info}

{ announcements from events ppl }


## Media

{ notable community efforts }

{ ratings news }

{ hint: use the following format: (title in Sentence case) by (author) ([domain](link)) - (optional comment) }

Selected articles:

- {}

Videos:

- {}

Audio:

- {}

Art and fun:

- https://twitter.com/OfficialCryptos/status/1400149513462026241
- https://twitter.com/OfficialCryptos/status/1400737260753018882

Translations:

- {}

Other non-English content:

- {}


## Discussions

Comm systems news:

- {}

{ selected discussed topics, as bullet list or one paragraph per topic }

Selected Reddit posts:

- {}

Selected Twitter discussions:

- {}


## Markets

In June DCR was trading between USD {n.nn}-{n.nn} / BTC {n.nnnnn}-{n.nnnnn}. The average daily rate was ${n.nn}.

{ markets overview: USD and BTC prices, highs and lows, interesting events, interesting analysis }

{ dcrdex updates, esp. volume }


## Relevant External

{ cc tech: PoW, ASIC resistance, full nodes, cc network security, etc }

China mining crackdown story

- https://compassmining.io/education/cost-bitcoin-miners-leaving-china/

some BTC "hacked" story https://www.reddit.com/r/Bitcoin/comments/nv7x7j/bitcoin_was_not_hacked_by_the_fbi_the_hackers/ { relevant? }

{ governance, funding, chain forks, community splits }

{ DEX }

{ relevant exchanges and websites }

{ other: regulations, privacy, security, fun }

That's all for June. Share your updates for the next issue in our [#journal](https://chat.decred.org/#/room/#journal:decred.org) chat room.


## About

This is issue 39 of Decred Journal. Index of all issues, mirrors, and translations is available [here](https://xaur.github.io/decred-news/).

Most information from third parties is relayed directly from source after a minimal sanity check. The authors of the Decred Journal have no ability to verify all claims. Please beware of scams and do your own research.

Credits (alphabetical order):

- writing and editing: {}
- reviews and feedback: {}
- title image: {}
- funding: Decred stakeholders
